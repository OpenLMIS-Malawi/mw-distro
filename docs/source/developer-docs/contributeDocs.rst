========================
Contribute documentation
========================

This document briefly explains the process of collecting, building and contributing the documentation
to OpenLMIS v3.

Build process
-------------

The developer documentation for OpenLMISv3 is scattered across various repositories. Moreover, some
of the artifacts are dynamically generated, based on the current codebase. All that documentation
is collected by a single script. In order to collect a new document to be able to include it in the
developer documentation, it must be placed in the *collect-docs.py* script. The documentation is built
daily and is triggered by a Jenkins job. It then gets published under http://openlmis.readthedocs.io.
The static documentation files and the build configuration is kept on the openlmis-ref-distro repository, in the
*docs* directory. It is also possible to rebuild and upload the documentation to Read the Docs manually, by
running the *OpenLMIS-documentation* Jenkins job.

Contributing
------------

Depending on the part of the documentation that you wish to contribute to, a specific document in one
of the `GitHub repositories <https://github.com/OpenLMIS>`_ must be edited. The table below explains where the
particular pieces of the documentation are fetched from, in order to be able to locate and edit them.

+-------------------------------+--------------------------------------------------------------------------------------+
|Documentation                  |Location and description                                                              |
+===============================+======================================================================================+
|Developer docs - Services      |The documentation for each service is taken from the *README.md* file located on that |
|                               |repository.                                                                           |
+-------------------------------+--------------------------------------------------------------------------------------+
|Developer docs - Style guide   |This is the code style guide, located in the openlmis-template-service in file        |
|                               |*STYLE-GUIDE.md*.                                                                     |
+-------------------------------+--------------------------------------------------------------------------------------+
|Developer docs - Testing guide |This is the document that outlines the strategy and rules for tests development.      |
|                               |It is located in the openlmis-template-service in *TESTING.md* file.                  |
+-------------------------------+--------------------------------------------------------------------------------------+
|Developer docs - Error Handling|This document outlines how errors should be managed in Services and how they should   |
|                               |be reported through API responses.
+-------------------------------+--------------------------------------------------------------------------------------+
|ERD schema                     |The ERD schema for certain services is generated by Jenkins. The static file that     |
|                               |links to the schema is located together with the documentation and the schemas itself |
|                               |are built and kept on Jenkins as build artifacts. The link always points to the ERD   |
|                               |schema of the latest, successful build.                                               |
+-------------------------------+--------------------------------------------------------------------------------------+
|UI Styleguide                  |The configuration of the styleguide is located on the openlmis-requisition-refUI.     |
|                               |The actual Styleguide is generated by the Jenkins job and uploaded to the gh-pages    |
|                               |branch on the same repository.                                                        |
+-------------------------------+--------------------------------------------------------------------------------------+
|API documentation              |This contains the link to the Swagger documentation, that presents the API endpoints. |
|                               |It is built by the Jenkins job and kept as a build artifact, based on the content of  |
|                               |the RAML file. The link always points to the API documentation of the latest,         |
|                               |successful build.                                                                     |
+-------------------------------+--------------------------------------------------------------------------------------+
